<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Immo Kalkulation â€“ Cockpit (Single File)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --bg:#0e1117; --panel:#141a24; --ink:#e6e8ec; --muted:#99a2b2;
  --line:#1f2633; --accent:#00c2a8; --warn:#f59e0b; --bad:#ef4444; --good:#22c55e;
  --panel2:#0f172a; --pill:#253042; --heading:#e9edf5;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}
.appbar{position:sticky;top:0;background:rgba(20,26,36,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);z-index:10}
.appbar .row{display:flex;align-items:center;gap:10px;padding:14px 16px}
.brand{font-weight:700}
.tabs{display:flex;gap:8px;margin-left:auto}
.tab{padding:8px 12px;border:1px solid var(--line);border-radius:999px;background:var(--pill);color:var(--ink);font-weight:600;font-size:13px}
.tab.active{background:var(--accent);color:#002822;border-color:transparent}
.container{max-width:1300px;margin:0 auto;padding:16px}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.panel{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:10px}
.panel h3{margin:0 0 10px 0;font-size:14px;letter-spacing:.3px;color:var(--heading);text-transform:uppercase}
.subgrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.section{background:var(--panel2);border:1px solid var(--line);border-radius:10px;padding:8px}
.section h4{margin:0 0 6px 0;font-size:13px;color:var(--heading)}
.table{width:100%;border-collapse:collapse;font-size:13px}
.table th,.table td{padding:6px;border-bottom:1px solid var(--line);vertical-align:middle}
.table th{color:var(--muted);font-weight:600;text-align:left}
.table td.val{text-align:right;font-variant-numeric:tabular-nums}
.kpi{display:flex;align-items:center;justify-content:space-between;background:var(--pill);border:1px solid var(--line);padding:10px;border-radius:10px;margin-top:8px}
.kpi .label{color:var(--muted);font-size:12px}
.kpi .value{font-weight:800}
.badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;background:#112034;border:1px solid var(--line);font-size:12px}
.badge.good{background:#0d2818;border-color:#1f5c37;color:#b6f0c9}
.badge.bad{background:#2a1313;border-color:#642525;color:#f9c8c8}
.hint{font-size:12px;color:var(--muted);margin-top:6px}
input[type="number"], input[type="text"]{width:110px;background:#0d1422;border:1px solid var(--line);color:var(--ink);padding:6px 8px;border-radius:8px}
input.wide{width:180px}
.row{display:flex;gap:8px;flex-wrap:wrap}
.sep{height:10px}
.hr{border-top:1px dashed var(--line);margin:8px 0}
.right{text-align:right}
.small{font-size:12px;color:var(--muted)}
.btn{background:var(--accent);color:#01201a;border:none;padding:10px 12px;border-radius:10px;font-weight:800;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
.headerbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.progress{height:8px;background:#1e293b;border-radius:999px;overflow:hidden}
.progress > i{display:block;height:100%}
.progress.good > i{background:var(--good)}
.progress.bad > i{background:var(--bad)}
.caption{display:flex;justify-content:space-between;font-size:12px;color:var(--muted)}
@media(max-width:1100px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="appbar">
  <div class="row">
    <div class="brand">ğŸ  Immo Kalkulation â€“ Cockpit</div>
    <div class="tabs">
      <div class="tab active">Cockpit</div>
      <div class="tab">BankgesprÃ¤ch</div>
      <div class="tab">Kennzahlen im Verlauf</div>
    </div>
  </div>
</div>

<div class="container">
  <!-- TOP PANELS -->
  <div class="grid">
    <!-- Objekt & Investition -->
    <div class="panel">
      <h3>Objekt und Investition</h3>

      <div class="section">
        <h4>Objekt & Kaufdatum</h4>
        <table class="table">
          <tr><th>Adresse</th><td><input class="wide" id="addr" type="text" value="Musterstr. 11, 12345 Musterstadt"></td></tr>
          <tr><th>Kaufdatum</th><td><input id="date" type="text" value="01.01.24"></td></tr>
          <tr><th>WohnflÃ¤che</th><td class="val"><input id="area" type="number" value="65"> mÂ²</td></tr>
          <tr><th>StellplÃ¤tze</th><td class="val"><input id="slots" type="number" value="1"></td></tr>
        </table>
      </div>

      <div class="sep"></div>

      <div class="section">
        <h4>Kaufpreis und Kaufnebenkosten</h4>
        <table class="table">
          <tr><th>Kaufpreis</th><td class="val"><input id="price" type="number" value="175000"> â‚¬</td></tr>
          <tr><th>Makler</th><td class="val"><input id="fee" type="number" value="0"> %</td></tr>
          <tr><th>Notar</th><td class="val"><input id="notary" type="number" value="1.5"> %</td></tr>
          <tr><th>Grundbuchamt</th><td class="val"><input id="landreg" type="number" value="0.5"> %</td></tr>
          <tr><th>Grunderwerbsteuer</th><td class="val"><input id="taxRE" type="number" value="5"> %</td></tr>
          <tr><th>Sonstige</th><td class="val"><input id="miscAcq" type="number" value="0"> %</td></tr>
          <tr><th>Summe KNK</th><td class="val" id="knkSum">â€“</td></tr>
        </table>
        <div class="kpi"><div class="label">Gesamterwerb</div><div class="value" id="totalAcq">â€“</div></div>
      </div>

      <div class="sep"></div>

      <div class="section">
        <h4>AnfÃ¤ngliche Investitionen</h4>
        <table class="table">
          <tr><th>KÃ¼che</th><td class="val"><input id="kitchen" type="number" value="2500"> â‚¬</td></tr>
          <tr><th>Sonstiges</th><td class="val"><input id="capexOther" type="number" value="0"> â‚¬</td></tr>
          <tr><th>Summe</th><td class="val" id="capexSum">â€“</td></tr>
        </table>
      </div>

      <div class="sep"></div>

      <div class="kpi">
        <div class="label">Gesamtinvestitionskosten</div>
        <div class="value" id="totalInvest">â€“</div>
      </div>
      <div class="hint">Hinweis: â€Gesamterwerb + anfÃ¤ngliche Investitionenâ€œ</div>
    </div>

    <!-- Miete, Steuern, RÃ¼cklagen -->
    <div class="panel">
      <h3>Miete, Steuern, RÃ¼cklagen</h3>
      <div class="section">
        <h4>Soll-Miete pro Monat</h4>
        <table class="table">
          <tr><th>Kaltmiete â‚¬/mÂ²</th><td class="val"><input id="rentSqm" type="number" value="11.1"> â‚¬</td></tr>
          <tr><th>+ StellplÃ¤tze</th><td class="val"><input id="rentSlots" type="number" value="45"> â‚¬</td></tr>
          <tr><th>+ Sonstiges</th><td class="val"><input id="rentOther" type="number" value="0"> â‚¬</td></tr>
          <tr><th>= Nettokaltmiete</th><td class="val" id="coldRent">â€“</td></tr>
          <tr><th>+ UmlagefÃ¤hige Kosten</th><td class="val"><input id="umlagefaehig" type="number" value="399"> â‚¬</td></tr>
          <tr><th>= Warmmiete</th><td class="val" id="warmRent">â€“</td></tr>
        </table>
      </div>

      <div class="sep"></div>

      <div class="section">
        <h4>Steuern</h4>
        <table class="table">
          <tr><th>AfA Satz</th><td class="val"><input id="afaRate" type="number" value="2"> % p.a.</td></tr>
          <tr><th>GebÃ¤udeanteil am KP</th><td class="val"><input id="buildingShare" type="number" value="75"> %</td></tr>
          <tr><th>pers. Grenzsteuersatz</th><td class="val"><input id="taxRate" type="number" value="26"> %</td></tr>
        </table>
      </div>

      <div class="sep"></div>

      <div class="section">
        <h4>RÃ¼cklagen</h4>
        <table class="table">
          <tr><th>Kalk. Mietausfall</th><td class="val"><input id="vacancyPct" type="number" value="3"> %</td></tr>
          <tr><th>Eigene Instandh.-RÃ¼ckl. (pro mÂ²Â·a)</th><td class="val"><input id="maintPerSqmYear" type="number" value="10"> â‚¬</td></tr>
          <tr><th>Empfohlen (Info)</th><td class="val" class="small">8â€“15 â‚¬/mÂ²Â·a</td></tr>
        </table>
      </div>
    </div>

    <!-- Bewirtschaftungskosten -->
    <div class="panel">
      <h3>Bewirtschaftungskosten</h3>
      <div class="section">
        <h4>Bewirtschaftung pro Monat</h4>
        <table class="table">
          <tr><th>UmlagefÃ¤hig (Summe)</th><td class="val" id="bwuUml">â€“</td></tr>
          <tr><th>Nicht umlagefÃ¤hig</th><td class="val"><input id="nonApportion" type="number" value="173"> â‚¬</td></tr>
          <tr><th>entspricht % der Nettokaltmiete</th><td class="val" id="bwuPct">â€“</td></tr>
          <tr><th>Insgesamt</th><td class="val" id="bwuSum">â€“</td></tr>
        </table>
      </div>

      <div class="section">
        <h4>Hausgeld</h4>
        <table class="table">
          <tr><th>Hausgeld (insgesamt)</th><td class="val"><input id="hausgeld" type="number" value="439"> â‚¬</td></tr>
        </table>
      </div>

      <div class="section">
        <h4>UmlagefÃ¤hige Kosten</h4>
        <table class="table">
          <tr><th>Hausgeld (umlagefÃ¤higer Teil)</th><td class="val"><input id="hgUml" type="number" value="390"> â‚¬</td></tr>
          <tr><th>Grundsteuer</th><td class="val"><input id="grundsteuer" type="number" value="9"> â‚¬</td></tr>
          <tr><th>Sonstiges</th><td class="val"><input id="umlagSonst" type="number" value="0"> â‚¬</td></tr>
          <tr><th>Summe</th><td class="val" id="umlagSum">â€“</td></tr>
        </table>
      </div>

      <div class="section">
        <h4>Nicht umlagefÃ¤hige Kosten</h4>
        <table class="table">
          <tr><th>Hausgeld (nicht umlagefÃ¤higer Teil)</th><td class="val"><input id="hgNicht" type="number" value="49"> â‚¬</td></tr>
          <tr><th>davon WEG-RÃ¼cklage</th><td class="val"><input id="weg" type="number" value="23"> â‚¬</td></tr>
          <tr><th>Eigene Instandh.-RÃ¼cklage</th><td class="val" id="eigeneRueckl">â€“</td></tr>
          <tr><th>+ Mietausfall (kalk.)</th><td class="val" id="leerstandEuro">â€“</td></tr>
          <tr><th>+ Sonstiges</th><td class="val"><input id="nichtUmlSonst" type="number" value="0"> â‚¬</td></tr>
          <tr><th>Summe</th><td class="val" id="nichtUmlSum">â€“</td></tr>
        </table>
      </div>
    </div>
  </div>

  <div class="sep"></div>

  <!-- Financing & KPIs -->
  <div class="grid">
    <!-- Finanzierung -->
    <div class="panel">
      <h3>Finanzierung</h3>
      <div class="section">
        <h4>Gesamt-Finanzierung</h4>
        <table class="table">
          <tr><th>Eigenkapital</th><td class="val"><input id="equityPct" type="number" value="13"> %</td></tr>
          <tr><th>Zinssatz</th><td class="val"><input id="interestPct" type="number" value="3.69"> %</td></tr>
          <tr><th>AnfÃ¤ngliche Tilgung</th><td class="val"><input id="repaymentPct" type="number" value="2.0"> %</td></tr>
          <tr><th>Kapit. dienst (mtl.)</th><td class="val" id="annuity">â€“</td></tr>
        </table>
        <div class="kpi"><div class="label">Darlehenssumme</div><div class="value" id="loan">â€“</div></div>
      </div>
    </div>

    <!-- Kennzahlen heute -->
    <div class="panel">
      <h3>Kennzahlen heute</h3>
      <div class="section">
        <h4>Miete und Rendite</h4>
        <table class="table">
          <tr><th>Nettokaltmiete p.a.</th><td class="val" id="coldRentYear">â€“</td></tr>
          <tr><th>Bruttomietrendite</th><td class="val" id="grossYield">â€“</td></tr>
          <tr><th>Nettomietrendite</th><td class="val" id="netYield">â€“</td></tr>
        </table>
      </div>
      <div class="section">
        <h4>Cashflow pro Monat (Ãœberschuss)</h4>
        <table class="table">
          <tr><th>Warmmiete</th><td class="val" id="cfWarm">â€“</td></tr>
          <tr><th>- Bewirtschaftungskosten</th><td class="val" id="cfBwu">â€“</td></tr>
          <tr><th>- Zinsen</th><td class="val" id="cfInterest">â€“</td></tr>
          <tr><th>- Tilgung</th><td class="val" id="cfRepay">â€“</td></tr>
          <tr><th>= Cashflow operativ</th><td class="val" id="cfOper">â€“</td></tr>
          <tr><th>- Steuern (geschÃ¤tzt)</th><td class="val" id="cfTax">â€“</td></tr>
          <tr><th>= Cashflow nach Steuern</th><td class="val" id="cfAfterTax">â€“</td></tr>
        </table>
        <div class="hr"></div>
        <div class="kpi">
          <div class="label">Dein Ãœberschuss vor Steuern</div>
          <div class="value" id="cfBeforeTax">â€“</div>
        </div>
        <div class="hint">Zielwert-Check unten</div>
      </div>
    </div>

    <!-- Ziel / Diagramm -->
    <div class="panel">
      <h3>Visualisierung & Ziel</h3>
      <div class="section">
        <div class="headerbar">
          <div class="badge">Ziel-Cashflow (vor Steuern): <input id="targetCF" type="number" value="50"> â‚¬/Monat</div>
          <button class="btn" id="recalc">Neu berechnen</button>
        </div>
        <div class="progress" id="goalBar"><i style="width:0%"></i></div>
        <div class="caption"><span>0 â‚¬</span><span id="cfNowLabel">â€“</span><span id="cfTargetLabel">Ziel 50 â‚¬</span></div>
      </div>
      <div class="section">
        <canvas id="bar"></canvas>
      </div>
    </div>
  </div>

  <div class="hint">Demo. Rechenlogik: AnnuitÃ¤t = Darlehen Ã— (Zins% + Tilgung%) / 12. Steuer stark vereinfacht (Grenzsteuersatz, AfA auf GebÃ¤udeanteil).</div>
  <div class="sep"></div>
  <div class="row">
    <button class="btn" id="reset">ZurÃ¼cksetzen</button>
    <button class="btn ghost" id="fillBremen">Beispiel â€Bremen 20% EKâ€œ</button>
  </div>
</div>

<script>
const $ = id => document.getElementById(id);
let barChart;

function pct(x){ return (x*100).toFixed(1)+'%' }
function eur(n, d=0){ return n.toLocaleString('de-DE',{style:'currency',currency:'EUR',maximumFractionDigits:d}) }

function read(){
  return {
    // Objekt
    area: +$('area').value || 0,
    price: +$('price').value || 0,
    fee: +$('fee').value || 0,
    notary: +$('notary').value || 0,
    landreg: +$('landreg').value || 0,
    taxRE: +$('taxRE').value || 0,
    miscAcq: +$('miscAcq').value || 0,
    kitchen: +$('kitchen').value || 0,
    capexOther: +$('capexOther').value || 0,

    // Miete
    rentSqm: +$('rentSqm').value || 0,
    rentSlots: +$('rentSlots').value || 0,
    rentOther: +$('rentOther').value || 0,
    umlagefaehig: +$('umlagefaehig').value || 0,

    // Steuern/RÃ¼cklagen
    afaRate: +$('afaRate').value || 0,
    buildingShare: +$('buildingShare').value || 0,
    taxRate: +$('taxRate').value || 0,
    vacancyPct: +$('vacancyPct').value || 0,
    maintPerSqmYear: +$('maintPerSqmYear').value || 0,

    // Bewirtschaftung
    nonApportion: +$('nonApportion').value || 0,
    hausgeld: +$('hausgeld').value || 0,
    hgUml: +$('hgUml').value || 0,
    grundsteuer: +$('grundsteuer').value || 0,
    umlagSonst: +$('umlagSonst').value || 0,
    hgNicht: +$('hgNicht').value || 0,
    weg: +$('weg').value || 0,
    nichtUmlSonst: +$('nichtUmlSonst').value || 0,

    // Finanzierung
    equityPct: +$('equityPct').value || 0,
    interestPct: +$('interestPct').value || 0,
    repaymentPct: +$('repaymentPct').value || 0,

    // Ziel
    targetCF: +$('targetCF').value || 0,
  }
}

function calc(p){
  const knkPct = (p.fee+p.notary+p.landreg+p.taxRE+p.miscAcq)/100;
  const knkSum = p.price*knkPct;
  const totalAcq = p.price + knkSum;
  const capexSum = p.kitchen + p.capexOther;
  const totalInvest = totalAcq + capexSum;

  const coldRent = p.area*p.rentSqm + p.rentSlots + p.rentOther;
  const warmRent = coldRent + p.umlagefaehig;

  const umlagSum = p.hgUml + p.grundsteuer + p.umlagSonst;
  const eigeneRueckl = (p.area*p.maintPerSqmYear)/12;
  const leerstandEuro = coldRent*(p.vacancyPct/100);
  const nichtUmlSum = p.hgNicht + p.weg + eigeneRueckl + leerstandEuro + p.nichtUmlSonst;

  const bwuSum = umlagSum + p.nonApportion + nichtUmlSum; // gesamter Aufwand, inkl. nicht umlagefÃ¤hig
  const bwuPct = coldRent>0 ? (bwuSum/coldRent*100) : 0;

  // Finanzierung
  const equity = totalAcq*(p.equityPct/100);
  const loan = Math.max(totalAcq - equity,0);
  const annuity = loan * ((p.interestPct + p.repaymentPct)/100/12);
  const interestMonth = loan * (p.interestPct/100/12);
  const repayMonth = annuity - interestMonth;

  // KPIs
  const coldYear = coldRent*12;
  const grossYield = p.price>0 ? (coldYear/p.price*100) : 0;
  // stark vereinfacht: netYield auf TotalInvest ohne KNK-UmlagefÃ¤hig
  const netYield = totalInvest>0 ? ( (coldYear - (nichtUmlSum + p.nonApportion)*12) / totalInvest * 100 ) : 0;

  // Cashflow
  const cfOper = warmRent - bwuSum - annuity; // warm - (alle bwu) - rate
  const cfBeforeTax = warmRent - bwuSum - interestMonth - repayMonth;
  // Steuer â€“ vereinfacht: zu versteuernder Cashflow = warm - (bwu ohne eigene Rueckl & ohne mietausfall) - zinsen - afa
  const afaBase = (p.price * (p.buildingShare/100));
  const afaMonth = afaBase * (p.afaRate/100) / 12;
  const bwuForTax = umlagSum + p.nonApportion + p.hgNicht + p.weg + p.nichtUmlSonst; // ohne eigeneRueckl & leerstand
  const taxable = Math.max(0, warmRent - bwuForTax - interestMonth - afaMonth);
  const taxMonth = taxable * (p.taxRate/100);
  const cfAfterTax = cfOper - taxMonth + repayMonth; // operativ - steuer + nicht zahlungswirksame AFA-Effekt? (vereinfachte Sicht)

  return {
    knkPct, knkSum, totalAcq, capexSum, totalInvest,
    coldRent, warmRent, umlagSum, eigeneRueckl, leerstandEuro, nichtUmlSum,
    bwuSum, bwuPct, equity, loan, annuity, interestMonth, repayMonth,
    coldYear, grossYield, netYield, cfOper, cfBeforeTax, taxMonth, cfAfterTax,
    afaMonth
  }
}

function render(){
  const p = read();
  const m = calc(p);

  $('knkSum').textContent = eur(m.knkSum);
  $('totalAcq').textContent = eur(m.totalAcq);
  $('capexSum').textContent = eur(m.capexSum);
  $('totalInvest').textContent = eur(m.totalInvest);

  $('coldRent').textContent = eur(m.coldRent,0);
  $('warmRent').textContent = eur(m.warmRent,0);

  $('bwuUml').textContent = eur(p.hgUml + p.grundsteuer + p.umlagSonst);
  $('umlagSum').textContent = eur(m.umlagSum);
  $('eigeneRueckl').textContent = eur(m.eigeneRueckl);
  $('leerstandEuro').textContent = eur(m.leerstandEuro);
  $('nichtUmlSum').textContent = eur(m.nichtUmlSum);
  $('bwuSum').textContent = eur(m.bwuSum);
  $('bwuPct').textContent = (m.bwuPct||0).toFixed(1) + ' %';

  $('loan').textContent = eur(m.loan);
  $('annuity').textContent = eur(m.annuity);

  $('coldRentYear').textContent = eur(m.coldYear);
  $('grossYield').textContent = (m.grossYield||0).toFixed(1) + ' %';
  $('netYield').textContent = (m.netYield||0).toFixed(1) + ' %';

  $('cfWarm').textContent = eur(m.warmRent);
  $('cfBwu').textContent = eur(m.bwuSum);
  $('cfInterest').textContent = eur(m.interestMonth);
  $('cfRepay').textContent = eur(m.repayMonth);
  $('cfOper').textContent = eur(m.cfOper);
  $('cfTax').textContent = eur(m.taxMonth);
  $('cfAfterTax').textContent = eur(m.cfAfterTax);
  $('cfBeforeTax').textContent = eur(m.cfBeforeTax);

  // Goal bar
  const goal = Math.max(1, p.targetCF);
  const pctNow = Math.max(0, Math.min(100, m.cfBeforeTax/goal*100));
  $('goalBar').firstElementChild.style.width = pctNow + '%';
  $('goalBar').className = 'progress ' + (m.cfBeforeTax>=p.targetCF ? 'good':'bad');
  $('cfNowLabel').textContent = 'Jetzt: ' + eur(m.cfBeforeTax);
  $('cfTargetLabel').textContent = 'Ziel ' + eur(p.targetCF);

  // Chart
  const ctx = $('bar').getContext('2d');
  const data = [m.warmRent, m.bwuSum, m.interestMonth, m.repayMonth, m.cfBeforeTax];
  if(barChart){ barChart.destroy(); }
  barChart = new Chart(ctx, {
    type:'bar',
    data:{ labels:['Warmmiete','Bewirtsch.','Zinsen','Tilgung','CF vor St.'],
      datasets:[{ data }] },
    options:{ plugins:{ legend:{display:false}}, scales:{ y:{ beginAtZero:true } } }
  });
}

function reset(){
  document.querySelectorAll('input').forEach(i=>{
    if(i.type==='number'){ i.value = i.defaultValue }
    if(i.type==='text'){ i.value = i.defaultValue }
  });
  render();
}

function fillBremen(){
  $('area').value = 62;
  $('price').value = 215000;
  $('rentSqm').value = 12;
  $('rentSlots').value = 40;
  $('umlagefaehig').value = 360;
  $('equityPct').value = 20;
  $('interestPct').value = 4.0;
  $('repaymentPct').value = 2.0;
  $('maintPerSqmYear').value = 12;
  $('taxRE').value = 5;
  $('notary').value = 1.5;
  $('landreg').value = 0.5;
  $('fee').value = 0;
  $('hgUml').value = 390;
  $('hgNicht').value = 49;
  $('grundsteuer').value = 9;
  $('nonApportion').value = 173;
  $('vacancyPct').value = 3;
  $('buildingShare').value = 75;
  $('afaRate').value = 2;
  $('taxRate').value = 26;
  render();
}

document.querySelectorAll('input').forEach(i=> i.addEventListener('input', render));
$('recalc').addEventListener('click', render);
$('reset').addEventListener('click', reset);
$('fillBremen').addEventListener('click', fillBremen);

window.addEventListener('DOMContentLoaded', render);
</script>
</body>
</html>
